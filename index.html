<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Architect's Blueprint: English Education Strategy (UT)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fafaf9; /* Stone-50 */
            color: #44403c; /* Stone-700 */
        }
        
        h1, h2, h3, h4, .serif {
            font-family: 'Merriweather', serif;
        }

        /* View Management */
        .view-section {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .view-section.active {
            display: block;
            opacity: 1;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Navigation Active State */
        .nav-link.active {
            color: #b45309; /* Amber-700 */
            border-bottom: 2px solid #b45309;
        }
        
        .nav-link {
            border-bottom: 2px solid transparent;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .card-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: #b45309;
        }

        .prose p { margin-bottom: 1em; line-height: 1.75; }
        .prose strong { color: #78350f; font-weight: 600; }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 antialiased flex flex-col min-h-screen">

    <!-- Navigation Bar -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="#home" class="flex items-center gap-2 group">
                        <span class="text-2xl group-hover:scale-110 transition">üèõÔ∏è</span>
                        <h1 class="text-xl font-bold text-stone-900 tracking-tight">The Architect's Blueprint</h1>
                    </a>
                </div>
                
                <!-- Desktop Menu -->
                <nav class="hidden md:flex space-x-8 items-center">
                    <a href="#home" class="nav-link px-1 pt-1 text-sm font-medium text-stone-500 hover:text-stone-900 transition">Home</a>
                    <a href="#roadmap" class="nav-link px-1 pt-1 text-sm font-medium text-stone-500 hover:text-stone-900 transition">Strategy Roadmap</a>
                    <a href="#curriculum" class="nav-link px-1 pt-1 text-sm font-medium text-stone-500 hover:text-stone-900 transition">Curriculum Data</a>
                    <a href="#toolkit" class="nav-link px-1 pt-1 text-sm font-medium text-stone-500 hover:text-stone-900 transition">Scholar's Toolkit</a>
                </nav>

                <!-- Mobile Menu Button (Simple) -->
                <div class="flex items-center md:hidden">
                    <a href="#curriculum" class="p-2 text-stone-600">Menu ‚ò∞</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- ================= PAGE: HOME ================= -->
        <section id="view-home" class="view-section active">
            <div class="text-center max-w-3xl mx-auto mt-10 mb-16">
                <span class="text-amber-600 font-bold tracking-wider uppercase text-xs mb-2 block">Universitas Terbuka English Education</span>
                <h2 class="text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6 leading-tight">From Student to Scholar: <br>Your Strategic Blueprint</h2>
                <p class="text-xl text-stone-600 leading-relaxed mb-8">
                    This is not just a course list. It is an architectural plan to construct your identity as an expert educator. 
                    Explore the curriculum through a lens of <strong>Linguistics</strong>, <strong>Pedagogy</strong>, and <strong>Critical Thinking</strong>.
                </p>
                <div class="flex justify-center gap-4">
                    <a href="#roadmap" class="bg-stone-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-stone-700 transition">View Roadmap</a>
                    <a href="#curriculum" class="bg-white border border-stone-300 text-stone-700 px-6 py-3 rounded-lg font-medium hover:bg-stone-50 transition">Explore Courses</a>
                </div>
            </div>

            <!-- Evolution Tracker Summary -->
            <div class="bg-white rounded-2xl shadow-sm border border-stone-200 p-8">
                <h3 class="text-xl font-serif font-bold text-stone-800 mb-6 border-b border-stone-100 pb-4">The 8-Semester Evolution</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Phase 1 -->
                    <div class="p-6 bg-emerald-50 rounded-xl border border-emerald-100 hover:border-emerald-300 transition group cursor-default">
                        <div class="text-emerald-600 font-bold text-sm uppercase mb-2">Semesters 1-3</div>
                        <h4 class="text-2xl font-serif font-bold text-stone-900 mb-2">The Apprentice</h4>
                        <p class="text-stone-600 mb-4">Focus on high-proficiency input and output. You are the subject.</p>
                        <div class="text-xs font-mono text-emerald-800 bg-white p-2 rounded inline-block">Goal: Proficiency (C1)</div>
                    </div>
                    <!-- Phase 2 -->
                    <div class="p-6 bg-amber-50 rounded-xl border border-amber-100 hover:border-amber-300 transition group cursor-default">
                        <div class="text-amber-600 font-bold text-sm uppercase mb-2">Semesters 4-6</div>
                        <h4 class="text-2xl font-serif font-bold text-stone-900 mb-2">The Analyst</h4>
                        <p class="text-stone-600 mb-4">Connecting abstract theory (Linguistics) to practice (Teaching).</p>
                        <div class="text-xs font-mono text-amber-800 bg-white p-2 rounded inline-block">Goal: Pedagogy (PCK)</div>
                    </div>
                    <!-- Phase 3 -->
                    <div class="p-6 bg-indigo-50 rounded-xl border border-indigo-100 hover:border-indigo-300 transition group cursor-default">
                        <div class="text-indigo-600 font-bold text-sm uppercase mb-2">Semesters 7-8</div>
                        <h4 class="text-2xl font-serif font-bold text-stone-900 mb-2">The Expert</h4>
                        <p class="text-stone-600 mb-4">Synthesizing knowledge to create new insights (Research).</p>
                        <div class="text-xs font-mono text-indigo-800 bg-white p-2 rounded inline-block">Goal: Innovation</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= PAGE: ROADMAP ================= -->
        <section id="view-roadmap" class="view-section">
            <div class="mb-10">
                <h2 class="text-3xl font-serif font-bold text-stone-900">Strategic Strategy Roadmap</h2>
                <p class="text-stone-600 mt-2 max-w-2xl">
                    Don't study blindly. Use these phase-specific strategies to maximize your learning efficiency.
                </p>
            </div>

            <div class="flex flex-wrap gap-4 mb-8 border-b border-stone-200">
                <button onclick="switchPhase('p1')" id="tab-p1" class="px-6 py-3 text-sm font-medium border-b-2 border-stone-900 text-stone-900">Phase 1: Foundation</button>
                <button onclick="switchPhase('p2')" id="tab-p2" class="px-6 py-3 text-sm font-medium border-b-2 border-transparent text-stone-500 hover:text-stone-800">Phase 2: The Bridge</button>
                <button onclick="switchPhase('p3')" id="tab-p3" class="px-6 py-3 text-sm font-medium border-b-2 border-transparent text-stone-500 hover:text-stone-800">Phase 3: The Scholar</button>
            </div>

            <div id="phase-content" class="bg-white rounded-xl shadow-sm border border-stone-200 p-8 min-h-[400px]">
                <!-- Content injected via JS -->
            </div>
        </section>

        <!-- ================= PAGE: CURRICULUM ================= -->
        <section id="view-curriculum" class="view-section">
            <div class="mb-10 flex flex-col md:flex-row justify-between items-end gap-4">
                <div>
                    <h2 class="text-3xl font-serif font-bold text-stone-900">Curriculum Data & Course Details</h2>
                    <p class="text-stone-600 mt-2">
                        Analyze the balance of your degree. <span class="text-amber-700 font-bold">Click any course row</span> to open its detailed academic profile.
                    </p>
                </div>
            </div>

            <!-- Dashboard Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                    <h4 class="text-xs font-bold uppercase tracking-wide text-stone-500 mb-4 text-center">Credit Distribution (SKS)</h4>
                    <div class="chart-container"><canvas id="categoryChart"></canvas></div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                    <h4 class="text-xs font-bold uppercase tracking-wide text-stone-500 mb-4 text-center">Workload Intensity (Sem 3-6 Peak)</h4>
                    <div class="chart-container"><canvas id="semesterChart"></canvas></div>
                </div>
            </div>

            <!-- Filters -->
            <div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden">
                <div class="p-4 border-b border-stone-200 bg-stone-50 flex flex-wrap gap-4 items-center justify-between">
                    <h4 class="font-bold text-stone-700">Course Database</h4>
                    <div class="flex gap-2">
                        <select id="semesterFilter" onchange="filterCourses()" class="bg-white border border-stone-300 text-stone-700 text-sm rounded-md p-2 focus:ring-amber-500 focus:border-amber-500">
                            <option value="all">All Semesters</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="categoryFilter" onchange="filterCourses()" class="bg-white border border-stone-300 text-stone-700 text-sm rounded-md p-2 focus:ring-amber-500 focus:border-amber-500">
                            <option value="all">All Categories</option>
                            <option value="Skills">Language Skills</option>
                            <option value="Linguistics">Linguistics</option>
                            <option value="Pedagogy">Education & Pedagogy</option>
                            <option value="Literature">Literature</option>
                            <option value="Specialized">Specialized</option>
                            <option value="General">General</option>
                        </select>
                    </div>
                </div>
                
                <!-- Table -->
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-stone-600">
                        <thead class="text-xs text-stone-700 uppercase bg-stone-100">
                            <tr>
                                <th class="px-6 py-3">Sem</th>
                                <th class="px-6 py-3">Code</th>
                                <th class="px-6 py-3">Course Name</th>
                                <th class="px-6 py-3">SKS</th>
                                <th class="px-6 py-3">Category</th>
                                <th class="px-6 py-3 text-right">Action</th>
                            </tr>
                        </thead>
                        <tbody id="courseTableBody">
                            <!-- JS Populated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ================= PAGE: TOOLKIT ================= -->
        <section id="view-toolkit" class="view-section">
            <div class="mb-10 text-center max-w-2xl mx-auto">
                <h2 class="text-3xl font-serif font-bold text-stone-900">The Scholar's Toolkit</h2>
                <p class="text-stone-600 mt-2">
                    Cognitive strategies tailored for the specific demands of Linguistics, Pedagogy, and Skill Acquisition.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Tool 1 -->
                <div onclick="openToolkitModal('lab')" class="bg-white p-8 rounded-xl border border-stone-200 card-hover group h-full flex flex-col items-center text-center">
                    <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center text-3xl mb-6">üß™</div>
                    <h4 class="text-xl font-bold text-stone-800 mb-2">The "Laboratory" Mindset</h4>
                    <span class="inline-block px-3 py-1 bg-emerald-50 text-emerald-800 text-xs font-bold rounded-full mb-4">For Speaking/Listening</span>
                    <p class="text-stone-600 mb-6 flex-grow">
                        Treat your daily life as an immersive lab experiment. Narrate your actions and shadow audio to build automaticity.
                    </p>
                    <button class="text-emerald-700 font-bold text-sm hover:underline">Read Protocol &rarr;</button>
                </div>

                <!-- Tool 2 -->
                <div onclick="openToolkitModal('feynman')" class="bg-white p-8 rounded-xl border border-stone-200 card-hover group h-full flex flex-col items-center text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-3xl mb-6">üß†</div>
                    <h4 class="text-xl font-bold text-stone-800 mb-2">The Feynman Technique</h4>
                    <span class="inline-block px-3 py-1 bg-blue-50 text-blue-800 text-xs font-bold rounded-full mb-4">For Linguistics</span>
                    <p class="text-stone-600 mb-6 flex-grow">
                        A mental compression algorithm. If you can't explain a concept simply to a child, you don't understand it yet.
                    </p>
                    <button class="text-blue-700 font-bold text-sm hover:underline">Read Protocol &rarr;</button>
                </div>

                <!-- Tool 3 -->
                <div onclick="openToolkitModal('zettel')" class="bg-white p-8 rounded-xl border border-stone-200 card-hover group h-full flex flex-col items-center text-center">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center text-3xl mb-6">üóÉÔ∏è</div>
                    <h4 class="text-xl font-bold text-stone-800 mb-2">Zettelkasten Method</h4>
                    <span class="inline-block px-3 py-1 bg-purple-50 text-purple-800 text-xs font-bold rounded-full mb-4">For Research/Writing</span>
                    <p class="text-stone-600 mb-6 flex-grow">
                        Building a "Second Brain". Stop collecting isolated notes; start building a network of linked ideas for your thesis.
                    </p>
                    <button class="text-purple-700 font-bold text-sm hover:underline">Read Protocol &rarr;</button>
                </div>
            </div>
        </section>

        <!-- ================= VIEW: COURSE DETAIL (Hidden by default) ================= -->
        <section id="view-course-detail" class="view-section">
            <button onclick="window.history.back()" class="mb-6 flex items-center text-stone-500 hover:text-amber-700 transition font-medium">
                <span class="mr-2">‚Üê</span> Back to List
            </button>
            <div id="course-content-injection">
                <!-- JS content goes here -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-10 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-white font-serif font-bold text-lg mb-4">Critical Inquiry</h3>
            <p class="max-w-2xl mx-auto italic mb-6">
                "Does 'Communicative Language Teaching' work in a crowded classroom in rural Indonesia? Why or why not?"
            </p>
            <p class="text-sm text-stone-600">Generated for English Education Strategy Planning</p>
        </div>
    </footer>

    <!-- JavaScript Application Logic -->
    <script>
        // --- DATA LAYER ---
        // Course Database (Based on UT Curriculum)
        const courses = [
            // Sem 1
            {sem: 1, code: 'SPBI4102', name: 'Intensive Reading', sks: 3, cat: 'Skills'},
            {sem: 1, code: 'MKWN4110', name: 'Pancasila', sks: 2, cat: 'General'},
            {sem: 1, code: 'SPBI4103', name: 'Basic Composition', sks: 3, cat: 'Skills'},
            {sem: 1, code: 'SPBI4104', name: 'Verb Patterns in Texts', sks: 4, cat: 'Linguistics'},
            {sem: 1, code: 'MKWN4101', name: 'Pendidikan Agama Islam', sks: 3, cat: 'General'},
            {sem: 1, code: 'SPBI4101', name: 'Listening for General Purposes', sks: 2, cat: 'Skills'},
            // Sem 2
            {sem: 2, code: 'SPBI4107', name: 'Introduction to Linguistics', sks: 2, cat: 'Linguistics'},
            {sem: 2, code: 'SPBI4109', name: 'Intensive Listening', sks: 3, cat: 'Skills'},
            {sem: 2, code: 'SPBI4110', name: 'Clause Complexes in Texts', sks: 3, cat: 'Linguistics'},
            {sem: 2, code: 'MKWN4109', name: 'Pendidikan Kewarganegaraan', sks: 2, cat: 'General'},
            {sem: 2, code: 'SPBI4105', name: 'Speaking for General Communication', sks: 2, cat: 'Skills'},
            {sem: 2, code: 'SPBI4106', name: 'Critical Reading', sks: 3, cat: 'Skills'},
            {sem: 2, code: 'SPBI4108', name: 'Introduction to Literature', sks: 2, cat: 'Literature'},
            // Sem 3
            {sem: 3, code: 'SPIK4002', name: 'Perkembangan Peserta Didik', sks: 2, cat: 'Pedagogy'},
            {sem: 3, code: 'MKDI4202', name: 'Belajar di Era Digital', sks: 2, cat: 'General'},
            {sem: 3, code: 'MKWN4108', name: 'Bahasa Indonesia', sks: 3, cat: 'General'},
            {sem: 3, code: 'SPBI4203', name: 'Essay Writing', sks: 3, cat: 'Skills'},
            {sem: 3, code: 'SPBI4205', name: 'Structural Revision and Conversion', sks: 4, cat: 'Linguistics'},
            {sem: 3, code: 'SPBI4204', name: 'Contextual Speaking', sks: 3, cat: 'Skills'},
            {sem: 3, code: 'SPBI4201', name: 'Language Teaching Strategies', sks: 4, cat: 'Pedagogy'},
            // Sem 4
            {sem: 4, code: 'SPBI4206', name: 'Extensive Reading', sks: 4, cat: 'Skills'},
            {sem: 4, code: 'SPBI4309', name: 'Pragmatics in ELT', sks: 2, cat: 'Linguistics'},
            {sem: 4, code: 'SPBI4207', name: 'Critical Listening', sks: 3, cat: 'Skills'},
            {sem: 4, code: 'SPBI4307', name: 'Research in ELT', sks: 2, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4212', name: 'Pembelajaran Mikro', sks: 3, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4209', name: 'Syllabus Design and Material Dev', sks: 3, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4208', name: 'Language Teaching Assessment', sks: 3, cat: 'Pedagogy'},
            // Sem 5
            {sem: 5, code: 'SPIK4005', name: 'Profesi Keguruan', sks: 2, cat: 'Pedagogy'},
            {sem: 5, code: 'MKKI4301', name: 'Pemberdayaan Masyarakat', sks: 3, cat: 'General'},
            {sem: 5, code: 'SPBI4306', name: 'English for Business', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4305', name: 'Language Teaching Methods', sks: 3, cat: 'Pedagogy'},
            {sem: 5, code: 'SPBI4303', name: 'English for Tourism', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4301', name: 'English Morphology and Syntax', sks: 3, cat: 'Linguistics'},
            {sem: 5, code: 'SPBI4210', name: 'Academic Speaking', sks: 3, cat: 'Skills'},
            {sem: 5, code: 'FSS14205', name: 'Penerjemahan Karya Fiksi', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4312', name: 'English for Science and Tech', sks: 2, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4311', name: 'Sociolinguistics', sks: 2, cat: 'Linguistics'},
            {sem: 5, code: 'SPIK4006', name: 'Filsafat Ilmu', sks: 2, cat: 'General'},
            // Sem 6
            {sem: 6, code: 'SPBI4401', name: 'Interactive Language Teaching', sks: 3, cat: 'Pedagogy'},
            {sem: 6, code: 'SPBI4302', name: 'Discourse Analysis', sks: 2, cat: 'Linguistics'},
            {sem: 6, code: 'SPB14409', name: 'Metode Penelitian', sks: 3, cat: 'Specialized'},
            {sem: 6, code: 'SPBI4413', name: 'Literary Appreciation', sks: 2, cat: 'Literature'},
            {sem: 6, code: 'MKKI4201', name: 'Pengantar Statistika', sks: 3, cat: 'General'},
            {sem: 6, code: 'SPBI4213', name: 'Pengenalan Lapangan Persekolahan', sks: 4, cat: 'Pedagogy'},
            {sem: 6, code: 'SPIK4001', name: 'Pengantar Pendidikan', sks: 3, cat: 'Pedagogy'},
            // Sem 7
            {sem: 7, code: 'SPBI4406', name: 'Tech-enhanced Language Learning', sks: 3, cat: 'Pedagogy'},
            {sem: 7, code: 'SPBI4402', name: 'Academic Writing', sks: 4, cat: 'Skills'},
            {sem: 7, code: 'SPBI4470', name: 'Skripsi (Penelitian)', sks: 6, cat: 'Specialized'},
            {sem: 7, code: 'SPTP4406', name: 'Inovasi Pembelajaran', sks: 3, cat: 'Pedagogy'},
            {sem: 7, code: 'SPBI4460', name: 'Artikel Ilmiah', sks: 6, cat: 'Specialized'},
            // Sem 8
            {sem: 8, code: 'SPBI4410', name: 'Translation', sks: 2, cat: 'Specialized'},
            {sem: 8, code: 'SPBI4405', name: 'Second Language Acquisition', sks: 2, cat: 'Linguistics'},
            {sem: 8, code: 'SPIN4404', name: 'Psikolinguistik', sks: 3, cat: 'Linguistics'},
            {sem: 8, code: 'SPBI4408', name: 'Intercultural Communication', sks: 2, cat: 'Linguistics'},
            {sem: 8, code: 'SPBI4407', name: 'Teaching English to Young Learners', sks: 3, cat: 'Pedagogy'},
            {sem: 8, code: 'MKDI4203', name: 'Kewirausahaan di Era Digital', sks: 3, cat: 'General'}
        ];

        // --- CONTENT GENERATOR (Academic Context) ---
        function getCourseDetails(course) {
            // SPECIFIC COURSE DETAILS (UT Curriculum)
            const detailsMap = {
                // SEMESTER 1
                'SPBI4102': { // Intensive Reading
                    essence: "Reading is not a passive activity; it is a complex cognitive reconstruction process.",
                    description: "Focuses on **Intensive Reading** techniques essential for academic success. You will engage with short, dense texts to develop micro-skills: identifying the *topic sentence*, distinguishing *main ideas* from *supporting details*, and understanding *cohesive devices* (reference, substitution, ellipsis).",
                    competencies: ["Identify main ideas and supporting details.", "Deduce meaning of unfamiliar vocabulary using context clues.", "Analyze reference words to track cohesion."],
                    strategy: "<strong>The 'Role Reversal' Method:</strong> After reading a paragraph, cover it and try to write a one-sentence summary. Highlight every cohesive device (therefore, however).",
                    connection: "Foundation for: Critical Reading (Sem 2) and Extensive Reading (Sem 4).",
                    resources: ["Mikulecky, B. S., & Jeffries, L. (2007). *Advanced Reading Power*.", "UT Module SPBI4102 (Intensive Reading)."]
                },
                'SPBI4104': { // Verb Patterns
                    essence: "The verb is the engine of the sentence. If the noun is the driver, the verb pattern dictates where the car can go.",
                    description: "Explores **Valency Grammar** and structural patterns of English verbs. Focuses on what *follows* the verb. Distinguishes between patterns like [V + Object + Infinitive] (e.g., *I want him to go*) versus [V + Object + Base Form] (e.g., *I make him go*).",
                    competencies: ["Distinguish between transitive/intransitive patterns.", "Correctly use gerunds and infinitives after specific verbs.", "Analyze complex verb phrases."],
                    strategy: "<strong>Pattern Hunting:</strong> When reading, circle every verb and underline what follows it. Create a personal 'Verb Dictionary' with these patterns.",
                    connection: "Prerequisite for: Clause Complexes (Sem 2) and Morphology/Syntax (Sem 5).",
                    resources: ["Hornby, A. S. (1975). *Guide to Patterns and Usage*.", "Quirk, R., & Greenbaum, S. *A University Grammar of English*."]
                },
                // SEMESTER 2
                'SPBI4107': { // Intro Ling
                    essence: "The Periodic Table of Language. Learning the atomic elements (sounds, words, structures).",
                    description: "Scientific study of language. Surveys core sub-disciplines: **Phonetics & Phonology** (sounds), **Morphology** (words), **Syntax** (sentences), **Semantics** (meaning), and **Pragmatics** (context). Establishes language as arbitrary, systematic, and productive.",
                    competencies: ["Define core sub-disciplines of linguistics.", "Transcribe words using IPA.", "Identify morphemes in complex words."],
                    strategy: "<strong>The Feynman Technique:</strong> Explain how a 'phoneme' differs from a 'phone' to a non-expert. Create a concept map linking Phonology -> Morphology -> Syntax.",
                    connection: "Foundation for: Morphology (Sem 5), Syntax (Sem 5), Sociolinguistics (Sem 5).",
                    resources: ["Fromkin, V. et al. (2018). *An Introduction to Language*.", "Yule, G. *The Study of Language*."]
                },
                'SPBI4110': { // Clause Complexes
                    essence: "From sentences to systems. Understanding how simple ideas combine to form complex thoughts.",
                    description: "Grounded in **Systemic Functional Linguistics (SFL)** (M.A.K. Halliday). Examines how clauses combine through **Taxis** (Parataxis vs. Hypotaxis) and **Logico-Semantic Relations** (Expansion vs. Projection).",
                    competencies: ["Distinguish between Parataxis and Hypotaxis.", "Analyze logico-semantic relations.", "Construct complex sentences."],
                    strategy: "<strong>Deconstruction:</strong> Take a newspaper editorial. Highlight conjunctions. Remove them. How does the meaning fall apart? Rebuild it.",
                    connection: "Critical for: Academic Writing (Sem 7) and Translation (Sem 8).",
                    resources: ["Halliday, M.A.K. (2014). *Introduction to Functional Grammar*.", "Gerot & Wignell. *Making Sense of Functional Grammar*."]
                },
                // SEMESTER 3
                'SPBI4201': { // Teaching Strategies
                    essence: "The Toolbox. Before you build the house (teach), you need to know what tools (strategies) exist.",
                    description: "Surveys major ELT methodologies: **Grammar Translation Method**, **Audio-Lingual Method** (Behaviorism), **Total Physical Response (TPR)**, and **Communicative Language Teaching (CLT)**. Emphasizes the Post-Method Condition.",
                    competencies: ["Compare GTM, ALM, and CLT.", "Select strategies for different proficiency levels.", "Critique teacher-centered vs. student-centered learning."],
                    strategy: "<strong>Simulation:</strong> When reading about 'TPR', stand up and do it. Teach a friend 5 words using only TPR. Theory must be embodied.",
                    connection: "Prepares for: Micro Teaching (Sem 4).",
                    resources: ["Larsen-Freeman, D. (2000). *Techniques and Principles in Language Teaching*.", "Brown, H. D. *Teaching by Principles*."]
                },
                 // SEMESTER 4
                'SPBI4212': { // Micro Teaching
                    essence: "The Flight Simulator. Where theory meets reality.",
                    description: "Practicum to plan and teach short lesson segments (15-20 mins). Focuses on: **Set Induction** (opening), **Questioning Skills** (ICQs/CCQs), **Reinforcement**, and **Closure**.",
                    competencies: ["Design a mini-lesson (ABCD model).", "Demonstrate classroom management.", "Use graded 'Teacher Talk'."],
                    strategy: "<strong>Video Analysis:</strong> Record yourself. Watch with sound OFF (body language) and sound ON (instruction clarity).",
                    connection: "Prepares for: PLP (Sem 6).",
                    resources: ["Brown, G. *Microteaching*.", "UT Panduan Praktik PKM."]
                },
                'SPBI4307': { // Research in ELT
                    essence: "The Scientist's Lens. Moving from 'I think' to 'I have evidence'.",
                    description: "Intro to research paradigms: **Quantitative** vs. **Qualitative**. Learn to formulate a **Research Question**, conduct a **Literature Review**, and understand research ethics.",
                    competencies: ["Distinguish Quant vs Qual designs.", "Formulate a research question.", "Conduct basic literature review."],
                    strategy: "<strong>Abstract Breakdown:</strong> Read 5 abstracts a week. Identify: Problem, Method, Result.",
                    connection: "Foundation for: Metode Penelitian (Sem 6) and Skripsi (Sem 7).",
                    resources: ["Creswell, J. W. (2012). *Educational Research*.", "Nunan, D. *Research Methods in Language Learning*."]
                },
                // SEMESTER 5
                'SPBI4301': { // Morph Syntax
                    essence: "The Engineering of English. Deep structure analysis.",
                    description: "**Morphology** examines word formation (Affixation, Compounding). **Syntax** introduces **Generative Grammar (Chomsky)**, Phrase Structure Rules, and Tree Diagrams.",
                    competencies: ["Analyze constituent morphemes.", "Draw syntactic tree diagrams.", "Explain structural ambiguity."],
                    strategy: "<strong>Tree Diagrams:</strong> Visual structures are easier to remember. Diagram sentences from real texts, not just textbooks.",
                    connection: "Critical for: Explaining grammar to advanced students.",
                    resources: ["Radford, A. *English Sentence Structure*.", "Lieber, R. *Introducing Morphology*."]
                },
                // SEMESTER 8
                'SPBI4405': { // SLA
                    essence: "The Psychology of Learning. How the brain learns L2.",
                    description: "Examines **Krashen's Monitor Model** (Input Hypothesis i+1, Affective Filter), **Interlanguage** (Selinker), and **Vygotsky's ZPD**. Explains why error correction doesn't always work.",
                    competencies: ["Explain Acquisition vs Learning.", "Analyze errors using Interlanguage theory.", "Apply SLA to teaching."],
                    strategy: "<strong>Case Study:</strong> Observe a friend learning a language. Analyze their errors: Developmental or Interference?",
                    connection: "Explains the 'Why' behind Teaching Methods.",
                    resources: ["Lightbown & Spada. *How Languages are Learned*.", "Ellis, R. *Second Language Acquisition*."]
                }
            };

            // Return specific or generic
            if (detailsMap[course.code]) return detailsMap[course.code];
            
            // Generic Generators based on Category
            switch (course.cat) {
                case 'Skills': return { essence: "Proficiency and muscle memory.", description: "Focus on the four language skills (Listening, Speaking, Reading, Writing). Goal is B2/C1 proficiency.", competencies: ["Demonstrate B2/C1 proficiency.", "Process input without translation.", "Produce fluent output."], strategy: "<strong>Immersion:</strong> Use the 'Input Hypothesis' (i+1). Force use of new vocab.", connection: "Builds raw ability for ESP/Teaching.", resources: ["Richards, J. C. *Teaching Listening and Speaking*."] };
                case 'Linguistics': return { essence: "The abstract science of language.", description: "Analyzes language systems. Provides 'Content Knowledge' (CK) for teachers.", competencies: ["Analyze language data.", "Identify patterns.", "Explain rules."], strategy: "<strong>Concept Mapping:</strong> Map terms to the bigger picture.", connection: "Theoretical answers to teaching problems.", resources: ["Fromkin et al. *Intro to Language*."] };
                case 'Pedagogy': return { essence: "Art and Science of Teaching.", description: "Professional 'Pedagogical Content Knowledge' (PCK). Classroom management and assessment.", competencies: ["Design materials.", "Assess progress.", "Manage dynamics."], strategy: "<strong>Lesson Planning:</strong> Sketch a plan for every theory learned.", connection: "Direct career application.", resources: ["Harmer, J. *Practice of ELT*."] };
                default: return { essence: "Foundation and Context.", description: "General or specialized courses supporting the degree.", competencies: ["Critical thinking.", "Contextual application."], strategy: "<strong>Contextualize:</strong> Relate to your teaching future.", connection: "Degree requirement.", resources: ["UT Modules."] };
            }
        }

        // --- ROUTING LOGIC (The "Multi-Page" Engine) ---
        function handleRouting() {
            const hash = window.location.hash || '#home';
            
            // 1. Update Navigation Styles
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('href') === hash) link.classList.add('active');
            });

            // 2. Hide all views
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
                setTimeout(() => { if(!el.classList.contains('active')) el.style.display = 'none'; }, 300); // Wait for fade out
            });

            // 3. Show target view (Handle specific course links like #course-SPBI4102)
            if (hash.startsWith('#course-')) {
                // Parse index from hash if possible, or search
                const code = hash.split('-')[1];
                const index = courses.findIndex(c => c.code === code);
                if(index >= 0) {
                    renderCourseDetail(index);
                    const view = document.getElementById('view-course-detail');
                    view.style.display = 'block';
                    setTimeout(() => view.classList.add('active'), 50);
                }
            } else {
                const viewId = 'view-' + hash.substring(1);
                const view = document.getElementById(viewId);
                if(view) {
                    view.style.display = 'block';
                    setTimeout(() => view.classList.add('active'), 50);
                } else {
                    // Fallback to home
                    document.getElementById('view-home').style.display = 'block';
                    document.getElementById('view-home').classList.add('active');
                }
            }
            
            // Scroll to top
            window.scrollTo(0,0);
        }

        // Listen for hash changes (Navigation clicks)
        window.addEventListener('hashchange', handleRouting);
        window.addEventListener('DOMContentLoaded', handleRouting); // Initial load

        // --- RENDER LOGIC ---

        function switchPhase(phaseId) {
            // Update Tab Styles
            ['p1', 'p2', 'p3'].forEach(id => {
                const btn = document.getElementById(`tab-${id}`);
                btn.className = id === phaseId 
                    ? "px-6 py-3 text-sm font-medium border-b-2 border-stone-900 text-stone-900" 
                    : "px-6 py-3 text-sm font-medium border-b-2 border-transparent text-stone-500 hover:text-stone-800";
            });

            const phaseData = {
                p1: { title: "Phase 1: Foundation", text: "You are the subject and the scientist. Focus on high proficiency.", actions: [{t:"Grammar in Context", d:"Diagram sentences from Reading texts."}, {t:"Input/Output Loop", d:"Shadow audio immediately."}, {t:"Academic Identity", d:"Start a Commonplace Book."}] },
                p2: { title: "Phase 2: The Bridge", text: "Synthesize Theory (Linguistics) with Practice (Pedagogy).", actions: [{t:"Ling-Ped Link", d:"Map linguistic concepts to teaching problems."}, {t:"Simulation Lab", d:"Record yourself teaching (Video Analysis)."}, {t:"ESP Analysis", d:"Deconstruct genre texts (Business/Tourism)."}] },
                p3: { title: "Phase 3: The Scholar", text: "Production over consumption. Create new knowledge.", actions: [{t:"Research Synthesis", d:"Find gaps in senior theses."}, {t:"Tech Innovation", d:"Critique apps using SLA theory."}, {t:"Translation", d:"Cultural mediation, not just word swap."}] }
            };

            const d = phaseData[phaseId];
            const html = `
                <div class="animate-fade-in-up">
                    <h3 class="text-xl font-bold text-stone-900 mb-2">${d.title}</h3>
                    <p class="text-stone-600 mb-6 italic border-l-4 border-amber-500 pl-4">${d.text}</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${d.actions.map(a => `
                            <div class="p-4 bg-stone-50 rounded-lg border border-stone-200">
                                <h4 class="font-bold text-stone-800 text-sm mb-2">${a.t}</h4>
                                <p class="text-xs text-stone-600">${a.d}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            document.getElementById('phase-content').innerHTML = html;
        }

        function filterCourses() {
            const sem = document.getElementById('semesterFilter').value;
            const cat = document.getElementById('categoryFilter').value;
            const tbody = document.getElementById('courseTableBody');
            tbody.innerHTML = '';

            const filtered = courses.filter(c => (sem === 'all' || c.sem == sem) && (cat === 'all' || c.cat === cat));

            filtered.forEach(c => {
                const idx = courses.indexOf(c);
                let badge = "bg-stone-100 text-stone-600";
                if(c.cat==='Pedagogy') badge="bg-amber-100 text-amber-800";
                if(c.cat==='Linguistics') badge="bg-blue-50 text-blue-800";
                if(c.cat==='Skills') badge="bg-emerald-50 text-emerald-800";

                tbody.innerHTML += `
                    <tr class="border-b hover:bg-stone-50 transition cursor-pointer group" onclick="window.location.hash='#course-${c.code}'">
                        <td class="px-6 py-4 font-medium text-stone-500">${c.sem}</td>
                        <td class="px-6 py-4 text-xs font-mono text-stone-400 group-hover:text-amber-600">${c.code}</td>
                        <td class="px-6 py-4 font-semibold text-stone-800 group-hover:text-amber-700">${c.name}</td>
                        <td class="px-6 py-4">${c.sks}</td>
                        <td class="px-6 py-4"><span class="${badge} px-2 py-1 rounded text-xs font-bold">${c.cat}</span></td>
                        <td class="px-6 py-4 text-right text-stone-400 group-hover:text-amber-600">View &rarr;</td>
                    </tr>
                `;
            });
        }

        function renderCourseDetail(index) {
            const c = courses[index];
            const d = getCourseDetails(c);
            
            const html = `
                <div class="animate-fade-in-up">
                    <div class="border-b border-stone-200 pb-6 mb-8">
                        <div class="flex items-center gap-3 mb-3">
                            <span class="px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs font-bold uppercase">${c.cat}</span>
                            <span class="px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-xs font-bold uppercase">${c.sks} SKS</span>
                        </div>
                        <h2 class="text-3xl md:text-5xl font-serif font-bold text-stone-900 mb-2">${c.name}</h2>
                        <div class="font-mono text-stone-500 text-lg">${c.code} &bull; Semester ${c.sem}</div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                        <div class="lg:col-span-2 space-y-10">
                            <div class="bg-stone-50 p-6 rounded-xl border border-stone-100 italic text-stone-700 font-serif text-lg">"${d.essence}"</div>
                            <div>
                                <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center gap-2"><span>üìñ</span> Academic Context</h3>
                                <div class="prose text-stone-600 leading-relaxed text-justify"><p>${d.description}</p></div>
                            </div>
                            <div class="bg-white border border-stone-200 p-6 rounded-xl">
                                <h3 class="font-bold text-stone-800 mb-2">üéØ Core Competencies</h3>
                                <ul class="list-disc list-inside text-stone-600 space-y-1">${d.competencies.map(x=>`<li>${x}</li>`).join('')}</ul>
                            </div>
                            <div class="bg-blue-50 border border-blue-100 p-6 rounded-xl text-sm">
                                <h3 class="font-bold text-blue-900 mb-2">üìö Key References</h3>
                                <ul class="list-disc list-inside text-stone-600 space-y-1">${d.resources.map(r=>`<li>${r}</li>`).join('')}</ul>
                            </div>
                        </div>
                        <div class="space-y-8">
                            <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl">
                                <h3 class="text-lg font-bold text-amber-900 mb-3">‚ö° Strategic Blueprint</h3>
                                <div class="text-stone-800 text-sm leading-relaxed">${d.strategy}</div>
                            </div>
                            <div class="bg-white border border-stone-200 p-6 rounded-xl">
                                <h3 class="text-lg font-bold text-stone-800 mb-3">üîó Connection Logic</h3>
                                <div class="text-stone-600 text-sm">${d.connection}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('course-content-injection').innerHTML = html;
        }

        // --- CHARTS ---
        function initCharts() {
            const catC = {}; const semC = {};
            courses.forEach(c => { catC[c.cat] = (catC[c.cat]||0)+c.sks; semC[c.sem] = (semC[c.sem]||0)+c.sks; });
            
            new Chart(document.getElementById('categoryChart'), {
                type: 'doughnut',
                data: { labels: Object.keys(catC), datasets: [{ data: Object.values(catC), backgroundColor: ['#e7e5e4', '#d6d3d1', '#f59e0b', '#78716c', '#a8a29e', '#fcd34d', '#b45309'], borderWidth: 0 }] },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right', labels: { boxWidth: 10 } } } }
            });

            new Chart(document.getElementById('semesterChart'), {
                type: 'bar',
                data: { labels: Object.keys(semC).map(k=>`Sem ${k}`), datasets: [{ data: Object.values(semC), backgroundColor: '#d6d3d1', hoverBackgroundColor: '#b45309', borderRadius: 4 }] },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { display: false }, x: { grid: { display: false } } }, plugins: { legend: { display: false } } }
            });
        }

        function openToolkitModal(type) {
            // Re-using the view-course-detail container for simplicity in this SPA structure
            // In a full implementation, this might have its own dedicated view, 
            // but for now, we alert (or could expand content).
            // For the sake of the requested "multi-page" feel, let's keep it simple:
            const data = {
                lab: { t: "The Laboratory Mindset", b: "Treat daily life as a lab. Narrate your actions. Shadow audio. Change device language." },
                feynman: { t: "The Feynman Technique", b: "Pick a concept. Teach it to a child. Identify gaps. Simplify. Repeat." },
                zettel: { t: "Zettelkasten Method", b: "Fleeting notes -> Literature notes -> Permanent notes (The Zettel). Link them together." }
            };
            alert(`${data[type].t}\n\nProtocol:\n${data[type].b}`);
        }

        // Initialize
        switchPhase('p1');
        initCharts();
        filterCourses();

    </script>
</body>
</html>
