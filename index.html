<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Architect's Blueprint: English Education Strategy (UT)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fafaf9; /* Stone-50 */
            color: #44403c; /* Stone-700 */
        }
        
        h1, h2, h3, h4, .serif {
            font-family: 'Merriweather', serif;
        }

        /* Animations for Subpage Transitions */
        .page-transition {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        .hidden-page {
            opacity: 0;
            pointer-events: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0;
            overflow: hidden;
            transform: translateY(20px);
        }
        .visible-page {
            opacity: 1;
            pointer-events: auto;
            position: relative;
            transform: translateY(0);
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .card-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #b45309;
        }

        .active-tab {
            border-bottom: 2px solid #b45309; /* Amber-700 */
            color: #78350f; /* Amber-900 */
            font-weight: 600;
        }

        .inactive-tab {
            border-bottom: 2px solid transparent;
            color: #78716c; /* Stone-500 */
        }
        .inactive-tab:hover {
            color: #44403c;
            border-bottom: 2px solid #e7e5e4;
        }
        
        /* Typography for long text */
        .prose p {
            margin-bottom: 1em;
            line-height: 1.75;
        }
        .prose strong {
            color: #78350f; /* Amber-900 */
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-amber-100 selection:text-amber-900">

    <!-- Navigation / Header -->
    <header class="w-full bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2 cursor-pointer" onclick="showDashboard()">
                <span class="text-2xl">üèõÔ∏è</span>
                <h1 class="text-xl font-bold text-stone-900 tracking-tight">The Architect's Blueprint</h1>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm font-medium">
                <button onclick="showDashboard(); scrollToSection('roadmap')" class="text-stone-600 hover:text-amber-700 transition">Roadmap</button>
                <button onclick="showDashboard(); scrollToSection('curriculum')" class="text-stone-600 hover:text-amber-700 transition">Curriculum Data</button>
                <button onclick="showDashboard(); scrollToSection('toolkit')" class="text-stone-600 hover:text-amber-700 transition">Toolkit</button>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 min-h-screen relative">

        <!-- ================= DASHBOARD VIEW ================= -->
        <div id="dashboard-view" class="visible-page page-transition space-y-16">
            
            <!-- Intro Section -->
            <section class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl font-serif font-bold text-stone-900 mb-4">Strategic Learning for English Education</h2>
                <p class="text-lg text-stone-600 leading-relaxed">
                    A comprehensive, academically sourced guide for the <strong>Universitas Terbuka (UT)</strong> English Education curriculum. Click any course to view its specific theoretical framework and learning strategy.
                </p>
            </section>

            <!-- Section 1: The Evolution Tracker -->
            <section id="evolution" class="bg-white rounded-xl shadow-sm border border-stone-200 p-6 md:p-8">
                <div class="mb-6">
                    <h3 class="text-2xl font-serif font-semibold text-stone-800">Your Evolutionary Path</h3>
                    <p class="text-stone-500 mt-2">See how your role shifts from Semester 1 to Semester 8.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-stone-50 rounded-lg p-5 border-l-4 border-emerald-500">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-bold uppercase tracking-wider text-stone-400">Semesters 1-3</span>
                            <span class="text-emerald-600 font-bold">Phase 1</span>
                        </div>
                        <h4 class="text-lg font-bold text-stone-800 mb-1">The Apprentice</h4>
                        <p class="text-sm text-stone-600 italic mb-3">"I am learning English."</p>
                    </div>
                    <div class="bg-stone-50 rounded-lg p-5 border-l-4 border-amber-500">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-bold uppercase tracking-wider text-stone-400">Semesters 4-6</span>
                            <span class="text-amber-600 font-bold">Phase 2</span>
                        </div>
                        <h4 class="text-lg font-bold text-stone-800 mb-1">The Analyst</h4>
                        <p class="text-sm text-stone-600 italic mb-3">"I analyze how it works."</p>
                    </div>
                    <div class="bg-stone-50 rounded-lg p-5 border-l-4 border-indigo-500">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-bold uppercase tracking-wider text-stone-400">Semesters 7-8</span>
                            <span class="text-indigo-600 font-bold">Phase 3</span>
                        </div>
                        <h4 class="text-lg font-bold text-stone-800 mb-1">The Expert</h4>
                        <p class="text-sm text-stone-600 italic mb-3">"I create new knowledge."</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Interactive Roadmap -->
            <section id="roadmap" class="scroll-mt-20">
                <div class="flex flex-col md:flex-row justify-between items-end mb-6 border-b border-stone-200 pb-4">
                    <div class="max-w-2xl">
                        <h3 class="text-2xl font-serif font-bold text-stone-900">Strategic Phases & Actions</h3>
                        <p class="text-stone-600 mt-2">Select a phase to reveal specific learning strategies.</p>
                    </div>
                    <div class="flex space-x-6 mt-4 md:mt-0">
                        <button onclick="switchPhase('p1')" id="tab-p1" class="active-tab pb-2 text-sm font-medium transition-colors focus:outline-none">Phase 1: Foundation</button>
                        <button onclick="switchPhase('p2')" id="tab-p2" class="inactive-tab pb-2 text-sm font-medium transition-colors focus:outline-none">Phase 2: The Bridge</button>
                        <button onclick="switchPhase('p3')" id="tab-p3" class="inactive-tab pb-2 text-sm font-medium transition-colors focus:outline-none">Phase 3: The Scholar</button>
                    </div>
                </div>
                <div id="phase-content" class="bg-white rounded-xl shadow-sm border border-stone-200 p-6 md:p-10 min-h-[400px]">
                    <!-- Content injected via JS -->
                </div>
            </section>

            <!-- Section 3: Curriculum Dashboard -->
            <section id="curriculum" class="scroll-mt-20">
                <div class="mb-8">
                    <h3 class="text-2xl font-serif font-bold text-stone-900">Curriculum Analytics & Course Subpages</h3>
                    <p class="text-stone-600 mt-2">
                        <span class="font-bold text-amber-700">Click on any row in the table below</span> to open a detailed strategic subpage for that specific course.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h4 class="text-sm font-bold uppercase tracking-wide text-stone-500 mb-4 text-center">Credit Distribution (SKS)</h4>
                        <div class="chart-container"><canvas id="categoryChart"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h4 class="text-sm font-bold uppercase tracking-wide text-stone-500 mb-4 text-center">Workload Intensity</h4>
                        <div class="chart-container"><canvas id="semesterChart"></canvas></div>
                    </div>
                </div>

                <!-- Filterable Course List -->
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden">
                    <div class="p-4 border-b border-stone-200 bg-stone-50 flex flex-wrap gap-4 items-center justify-between">
                        <h4 class="font-bold text-stone-700">Course Explorer</h4>
                        <div class="flex gap-2">
                            <select id="semesterFilter" onchange="filterCourses()" class="bg-white border border-stone-300 text-stone-700 text-sm rounded-md p-2">
                                <option value="all">All Semesters</option>
                                <option value="1">Semester 1</option>
                                <option value="2">Semester 2</option>
                                <option value="3">Semester 3</option>
                                <option value="4">Semester 4</option>
                                <option value="5">Semester 5</option>
                                <option value="6">Semester 6</option>
                                <option value="7">Semester 7</option>
                                <option value="8">Semester 8</option>
                            </select>
                            <select id="categoryFilter" onchange="filterCourses()" class="bg-white border border-stone-300 text-stone-700 text-sm rounded-md p-2">
                                <option value="all">All Categories</option>
                                <option value="Skills">Language Skills</option>
                                <option value="Linguistics">Linguistics</option>
                                <option value="Pedagogy">Education & Pedagogy</option>
                                <option value="Literature">Literature</option>
                                <option value="Specialized">Supporting & Specialized</option>
                                <option value="General">General (MKWN/General)</option>
                            </select>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-stone-600">
                            <thead class="text-xs text-stone-700 uppercase bg-stone-100">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Sem</th>
                                    <th scope="col" class="px-6 py-3">Code</th>
                                    <th scope="col" class="px-6 py-3">Course Name</th>
                                    <th scope="col" class="px-6 py-3">SKS</th>
                                    <th scope="col" class="px-6 py-3">Category</th>
                                    <th scope="col" class="px-6 py-3">Action</th>
                                </tr>
                            </thead>
                            <tbody id="courseTableBody">
                                <!-- JS Populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Section 4: The Scholar's Toolkit -->
            <section id="toolkit" class="scroll-mt-20">
                <div class="mb-8">
                    <h3 class="text-2xl font-serif font-bold text-stone-900">The Scholar's Toolkit</h3>
                    <p class="text-stone-600 mt-2">
                        Click on a tool below to view its <strong>detailed protocol</strong> and implementation strategy.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Tool 1 -->
                    <div onclick="openToolkitModal('lab')" class="bg-white p-6 rounded-xl border border-stone-200 card-hover group h-full flex flex-col">
                        <div class="text-amber-600 text-3xl mb-4">üß™</div>
                        <h4 class="text-xl font-bold text-stone-800 mb-2">The "Laboratory" Mindset</h4>
                        <span class="inline-block px-2 py-1 bg-emerald-100 text-emerald-800 text-xs rounded-full mb-4 w-max">For: Skills (Speaking/Listening)</span>
                        <p class="text-stone-600 mb-4 flex-grow">
                            Treat your daily life as an immersive lab experiment rather than a classroom.
                        </p>
                        <div class="text-amber-700 font-semibold text-sm group-hover:underline mt-auto">Open Protocol &rarr;</div>
                    </div>

                    <!-- Tool 2 -->
                    <div onclick="openToolkitModal('feynman')" class="bg-white p-6 rounded-xl border border-stone-200 card-hover group h-full flex flex-col">
                        <div class="text-amber-600 text-3xl mb-4">üß†</div>
                        <h4 class="text-xl font-bold text-stone-800 mb-2">The Feynman Technique</h4>
                        <span class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full mb-4 w-max">For: Linguistics/Theory</span>
                        <p class="text-stone-600 mb-4 flex-grow">
                            A mental compression algorithm: If you can't explain it simply, you don't understand it.
                        </p>
                        <div class="text-amber-700 font-semibold text-sm group-hover:underline mt-auto">Open Protocol &rarr;</div>
                    </div>

                    <!-- Tool 3 -->
                    <div onclick="openToolkitModal('zettel')" class="bg-white p-6 rounded-xl border border-stone-200 card-hover group h-full flex flex-col">
                        <div class="text-amber-600 text-3xl mb-4">üóÉÔ∏è</div>
                        <h4 class="text-xl font-bold text-stone-800 mb-2">Zettelkasten Method</h4>
                        <span class="inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full mb-4 w-max">For: Research/Writing</span>
                        <p class="text-stone-600 mb-4 flex-grow">
                            Building a "Second Brain" by linking atomic ideas instead of storing isolated notes.
                        </p>
                        <div class="text-amber-700 font-semibold text-sm group-hover:underline mt-auto">Open Protocol &rarr;</div>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="bg-stone-900 text-stone-300 rounded-xl p-8 md:p-12 text-center">
                <h3 class="text-xl font-serif font-bold text-white mb-4">Critical Inquiry Prompt</h3>
                <p class="max-w-2xl mx-auto text-stone-400 mb-6">
                    "Does 'Communicative Language Teaching' work in a crowded classroom in rural Indonesia? Why or why not?"
                </p>
            </footer>
        </div>

        <!-- ================= SUBPAGE MODAL (DETAIL VIEW) ================= -->
        <div id="subpage-view" class="hidden-page page-transition bg-white min-h-screen absolute top-0 left-0 w-full z-50 rounded-xl shadow-2xl border border-stone-200 p-6 md:p-10">
            <!-- Back Button -->
            <button onclick="showDashboard()" class="mb-8 flex items-center text-stone-500 hover:text-amber-700 transition font-medium">
                <span class="mr-2">‚Üê</span> Back to Dashboard
            </button>

            <!-- Subpage Content Injection Point -->
            <div id="subpage-content"></div>
        </div>

    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA ---
        // Same course list
        const courses = [
            // Sem 1
            {sem: 1, code: 'SPBI4102', name: 'Intensive Reading', sks: 3, cat: 'Skills'},
            {sem: 1, code: 'MKWN4110', name: 'Pancasila', sks: 2, cat: 'General'},
            {sem: 1, code: 'SPBI4103', name: 'Basic Composition', sks: 3, cat: 'Skills'},
            {sem: 1, code: 'SPBI4104', name: 'Verb Patterns in Texts', sks: 4, cat: 'Linguistics'},
            {sem: 1, code: 'MKWN4101', name: 'Pendidikan Agama Islam', sks: 3, cat: 'General'},
            {sem: 1, code: 'SPBI4101', name: 'Listening for General Purposes', sks: 2, cat: 'Skills'},
            // Sem 2
            {sem: 2, code: 'SPBI4107', name: 'Introduction to Linguistics', sks: 2, cat: 'Linguistics'},
            {sem: 2, code: 'SPBI4109', name: 'Intensive Listening', sks: 3, cat: 'Skills'},
            {sem: 2, code: 'SPBI4110', name: 'Clause Complexes in Texts', sks: 3, cat: 'Linguistics'},
            {sem: 2, code: 'MKWN4109', name: 'Pendidikan Kewarganegaraan', sks: 2, cat: 'General'},
            {sem: 2, code: 'SPBI4105', name: 'Speaking for General Communication', sks: 2, cat: 'Skills'},
            {sem: 2, code: 'SPBI4106', name: 'Critical Reading', sks: 3, cat: 'Skills'},
            {sem: 2, code: 'SPBI4108', name: 'Introduction to Literature', sks: 2, cat: 'Literature'},
            // Sem 3
            {sem: 3, code: 'SPIK4002', name: 'Perkembangan Peserta Didik', sks: 2, cat: 'Pedagogy'},
            {sem: 3, code: 'MKDI4202', name: 'Belajar di Era Digital', sks: 2, cat: 'General'},
            {sem: 3, code: 'MKWN4108', name: 'Bahasa Indonesia', sks: 3, cat: 'General'},
            {sem: 3, code: 'SPBI4203', name: 'Essay Writing', sks: 3, cat: 'Skills'},
            {sem: 3, code: 'SPBI4205', name: 'Structural Revision and Conversion', sks: 4, cat: 'Linguistics'},
            {sem: 3, code: 'SPBI4204', name: 'Contextual Speaking', sks: 3, cat: 'Skills'},
            {sem: 3, code: 'SPBI4201', name: 'Language Teaching Strategies', sks: 4, cat: 'Pedagogy'},
            // Sem 4
            {sem: 4, code: 'SPBI4206', name: 'Extensive Reading', sks: 4, cat: 'Skills'},
            {sem: 4, code: 'SPBI4309', name: 'Pragmatics in ELT', sks: 2, cat: 'Linguistics'},
            {sem: 4, code: 'SPBI4207', name: 'Critical Listening', sks: 3, cat: 'Skills'},
            {sem: 4, code: 'SPBI4307', name: 'Research in ELT', sks: 2, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4212', name: 'Pembelajaran Mikro', sks: 3, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4209', name: 'Syllabus Design and Material Dev', sks: 3, cat: 'Pedagogy'},
            {sem: 4, code: 'SPBI4208', name: 'Language Teaching Assessment', sks: 3, cat: 'Pedagogy'},
            // Sem 5
            {sem: 5, code: 'SPIK4005', name: 'Profesi Keguruan', sks: 2, cat: 'Pedagogy'},
            {sem: 5, code: 'MKKI4301', name: 'Pemberdayaan Masyarakat', sks: 3, cat: 'General'},
            {sem: 5, code: 'SPBI4306', name: 'English for Business', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4305', name: 'Language Teaching Methods', sks: 3, cat: 'Pedagogy'},
            {sem: 5, code: 'SPBI4303', name: 'English for Tourism', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4301', name: 'English Morphology and Syntax', sks: 3, cat: 'Linguistics'},
            {sem: 5, code: 'SPBI4210', name: 'Academic Speaking', sks: 3, cat: 'Skills'},
            {sem: 5, code: 'FSS14205', name: 'Penerjemahan Karya Fiksi', sks: 3, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4312', name: 'English for Science and Tech', sks: 2, cat: 'Specialized'},
            {sem: 5, code: 'SPBI4311', name: 'Sociolinguistics', sks: 2, cat: 'Linguistics'},
            {sem: 5, code: 'SPIK4006', name: 'Filsafat Ilmu', sks: 2, cat: 'General'},
            // Sem 6
            {sem: 6, code: 'SPBI4401', name: 'Interactive Language Teaching', sks: 3, cat: 'Pedagogy'},
            {sem: 6, code: 'SPBI4302', name: 'Discourse Analysis', sks: 2, cat: 'Linguistics'},
            {sem: 6, code: 'SPB14409', name: 'Metode Penelitian', sks: 3, cat: 'Specialized'},
            {sem: 6, code: 'SPBI4413', name: 'Literary Appreciation', sks: 2, cat: 'Literature'},
            {sem: 6, code: 'MKKI4201', name: 'Pengantar Statistika', sks: 3, cat: 'General'},
            {sem: 6, code: 'SPBI4213', name: 'Pengenalan Lapangan Persekolahan', sks: 4, cat: 'Pedagogy'},
            {sem: 6, code: 'SPIK4001', name: 'Pengantar Pendidikan', sks: 3, cat: 'Pedagogy'},
            // Sem 7
            {sem: 7, code: 'SPBI4406', name: 'Tech-enhanced Language Learning', sks: 3, cat: 'Pedagogy'},
            {sem: 7, code: 'SPBI4402', name: 'Academic Writing', sks: 4, cat: 'Skills'},
            {sem: 7, code: 'SPBI4470', name: 'Skripsi (Penelitian)', sks: 6, cat: 'Specialized'},
            {sem: 7, code: 'SPTP4406', name: 'Inovasi Pembelajaran', sks: 3, cat: 'Pedagogy'},
            {sem: 7, code: 'SPBI4460', name: 'Artikel Ilmiah', sks: 6, cat: 'Specialized'},
            // Sem 8
            {sem: 8, code: 'SPBI4410', name: 'Translation', sks: 2, cat: 'Specialized'},
            {sem: 8, code: 'SPBI4405', name: 'Second Language Acquisition', sks: 2, cat: 'Linguistics'},
            {sem: 8, code: 'SPIN4404', name: 'Psikolinguistik', sks: 3, cat: 'Linguistics'},
            {sem: 8, code: 'SPBI4408', name: 'Intercultural Communication', sks: 2, cat: 'Linguistics'},
            {sem: 8, code: 'SPBI4407', name: 'Teaching English to Young Learners', sks: 3, cat: 'Pedagogy'},
            {sem: 8, code: 'MKDI4203', name: 'Kewirausahaan di Era Digital', sks: 3, cat: 'General'}
        ];

        // --- ENHANCED CONTENT GENERATOR ---
        function getCourseDetails(course) {
            
            // Define Specific Details for Key Courses (Aligned with UT English Education Curriculum)
            const detailsMap = {
                // SEMESTER 1
                'SPBI4102': { // Intensive Reading
                    essence: "Reading is not a passive activity; it is a complex cognitive reconstruction process. In this foundational course, you are moving away from 'translating every word' toward 'processing meaning chunks'.",
                    description: "This course focuses on **Intensive Reading** techniques essential for academic success. You will engage with short, dense texts (300-500 words) to develop micro-skills: identifying the *topic sentence*, distinguishing *main ideas* from *supporting details*, and understanding *cohesive devices* (reference, substitution, ellipsis). The goal is total accuracy in comprehension.",
                    competencies: ["Identify main ideas and supporting details in academic paragraphs.", "Deduce meaning of unfamiliar vocabulary using context clues (synonyms, antonyms, morphology).", "Analyze reference words (it, they, this) to track cohesion."],
                    strategy: "<strong>The 'Role Reversal' Method:</strong> After reading a paragraph, cover it and try to write a one-sentence summary. If you can't summarize it, you didn't understand it. Also, highlight every cohesive device (therefore, however) to see the logic flow.",
                    connection: "Foundation for: Critical Reading (Sem 2) and Extensive Reading (Sem 4).",
                    resources: ["Mikulecky, B. S., & Jeffries, L. (2007). *Advanced Reading Power*.", "UT Module SPBI4102 (Intensive Reading)."]
                },
                'SPBI4104': { // Verb Patterns
                    essence: "The verb is the engine of the sentence. If the noun is the driver, the verb pattern dictates where the car can go.",
                    description: "This course explores **Valency Grammar** and the structural patterns of English verbs. Unlike basic tenses, this focuses on what *follows* the verb (the complementation). You will distinguish between patterns like [V + Object + Infinitive] (e.g., *I want him to go*) versus [V + Object + Base Form] (e.g., *I make him go*). It addresses common interference errors from Bahasa Indonesia.",
                    competencies: ["Distinguish between transitive, intransitive, and ditransitive verb patterns.", "Correctly use gerunds and infinitives after specific verbs (e.g., enjoy doing vs. want to do).", "Analyze complex verb phrases in authentic texts."],
                    strategy: "<strong>Pattern Hunting:</strong> Do not just memorize lists. When reading, circle every verb and underline what follows it. Is it an object? A preposition? An infinitive? Create a personal 'Verb Dictionary' with these patterns.",
                    connection: "Prerequisite for: Clause Complexes (Sem 2) and Morphology/Syntax (Sem 5).",
                    resources: ["Hornby, A. S. (1975). *Guide to Patterns and Usage in English*.", "Quirk, R., & Greenbaum, S. (1973). *A University Grammar of English*."]
                },
                
                // SEMESTER 2
                'SPBI4107': { // Intro to Linguistics
                    essence: "The Periodic Table of Language. You are learning the atomic elements (sounds, words, sentence structures) that build every language.",
                    description: "This is the scientific study of language. You will survey the core sub-disciplines: **Phonetics & Phonology** (sounds/systems), **Morphology** (word formation), **Syntax** (sentence structure), **Semantics** (meaning), and **Pragmatics** (context). It establishes that language is arbitrary, systematic, and productive.",
                    competencies: ["Define the core sub-disciplines of linguistics.", "Transcribe simple English words using IPA (International Phonetic Alphabet).", "Identify morphemes (roots, prefixes, suffixes) in complex words."],
                    strategy: "<strong>The Feynman Technique:</strong> Do not just memorize 'phoneme'; explain how it differs from a 'phone' to a non-expert. Create a concept map linking Phonology -> Morphology -> Syntax.",
                    connection: "Foundation for: Morphology (Sem 5), Syntax (Sem 5), and Sociolinguistics (Sem 5).",
                    resources: ["Fromkin, V., Rodman, R., & Hyams, N. (2018). *An Introduction to Language*.", "Yule, G. (2020). *The Study of Language*."]
                },
                'SPBI4110': { // Clause Complexes
                    essence: "From sentences to systems. Understanding how simple ideas combine to form complex thoughts.",
                    description: "This course is grounded in **Systemic Functional Linguistics (SFL)**, specifically M.A.K. Halliday's framework. It examines how clauses combine through **Taxis** (Parataxis vs. Hypotaxis) and **Logico-Semantic Relations** (Expansion vs. Projection). You will analyze how a sentence like 'I went because I was hungry' (Hypotactic Enhancement) differs from 'I was hungry, so I went' (Paratactic Enhancement).",
                    competencies: ["Distinguish between Parataxis (coordination) and Hypotaxis (subordination).", "Analyze logico-semantic relations: Elaboration, Extension, and Enhancement.", "Construct complex sentences with varied subordination strategies."],
                    strategy: "<strong>Deconstruction:</strong> Take an editorial from a newspaper. Highlight the conjunctions. Remove them. How does the meaning fall apart? Rebuild the sentence using different connectors.",
                    connection: "Critical for: Academic Writing (Sem 7) and Translation (Sem 8).",
                    resources: ["Halliday, M.A.K., & Matthiessen, C. (2014). *Halliday's Introduction to Functional Grammar* (Chapter 7: Clause Complexes).", "Gerot, L., & Wignell, P. (1994). *Making Sense of Functional Grammar*."]
                },

                // SEMESTER 3
                'SPBI4201': { // Teaching Strategies
                    essence: "The Toolbox. Before you build the house (teach), you need to know what tools (strategies) exist.",
                    description: "This course surveys the history and application of major ELT methodologies. You will critique the **Grammar Translation Method**, **Audio-Lingual Method** (Behaviorism), **Total Physical Response (TPR)**, and the dominant **Communicative Language Teaching (CLT)** approach. It emphasizes that there is no 'best' method (the Post-Method Condition).",
                    competencies: ["Compare and contrast major ELT methods (GTM, ALM, CLT).", "Select appropriate strategies for different age groups and proficiency levels.", "Critique the strengths and weaknesses of teacher-centered vs. student-centered learning."],
                    strategy: "<strong>Simulation:</strong> When you read about 'Total Physical Response (TPR)', stand up and do it. Try to teach your roommate 5 words using only TPR. Theory must be embodied.",
                    connection: "Prepares for: Method Development (Sem 4) and Micro Teaching (Sem 4).",
                    resources: ["Larsen-Freeman, D. (2000). *Techniques and Principles in Language Teaching*.", "Brown, H. D. (2007). *Teaching by Principles: An Interactive Approach to Language Pedagogy*."]
                },
                'SPBI4203': { // Essay Writing
                    essence: "Structured thinking. An essay is not just thoughts written down; it is an architectural argument.",
                    description: "This course transitions students from paragraph writing to the **5-Paragraph Essay** model. The core focus is on the **Thesis Statement**‚Äîthe controlling idea of the entire text. You will practice the structure: Introduction (Hook + Background + Thesis), Body Paragraphs (Topic Sentence + Evidence + Analysis), and Conclusion.",
                    competencies: ["Formulate a clear, arguable thesis statement.", "Write unified and coherent body paragraphs.", "Use transition signals to maintain flow."],
                    strategy: "<strong>The Skeleton Method:</strong> Before writing a single full sentence, write the 'Skeleton': Thesis + 3 Topic Sentences. If this skeleton doesn't make sense, the body will fail.",
                    connection: "Prerequisite for: Academic Writing (Sem 7) and Skripsi.",
                    resources: ["Oshima, A., & Hogue, A. (2006). *Writing Academic English*.", "Zemach, D. E., & Rumisek, L. A. (2005). *Academic Writing: From Paragraph to Essay*."]
                },

                // SEMESTER 4 (The Heavy Phase)
                'SPBI4212': { // Micro Teaching
                    essence: "The Flight Simulator. This is where theory meets reality. It is a safe space to crash and burn before you face real students.",
                    description: "A practicum course where you plan and teach short lesson segments (15-20 mins) to peers. The focus is on specific teaching skills: **Set Induction** (opening), **Questioning Skills** (ICQs/CCQs), **Reinforcement**, and **Closure**. You will also practice **Classroom Management**.",
                    competencies: ["Design a mini-lesson with clear objectives (ABCD model).", "Demonstrate effective classroom management skills.", "Use 'Teacher Talk' that is graded to the students' level."],
                    strategy: "<strong>Video Analysis:</strong> Record your sessions. Watch them twice: once with sound OFF to check body language/presence, once with sound ON to check instruction clarity.",
                    connection: "Prepares for: PLP (Sem 6).",
                    resources: ["Brown, G. (1975). *Microteaching: A Programme of Teaching Skills*.", "UT Panduan Praktik PKM (Pemantapan Kemampuan Mengajar)."]
                },
                'SPBI4307': { // Research in ELT
                    essence: "The Scientist's Lens. Moving from 'I think this works' to 'I have evidence this works'.",
                    description: "An introduction to research paradigms: **Quantitative** (Experimental, Survey) vs. **Qualitative** (Case Study, Ethnography, Classroom Action Research). You will learn to formulate a **Research Question**, conduct a **Literature Review**, and understand research ethics.",
                    competencies: ["Distinguish between Quant and Qual research designs.", "Formulate a valid research question.", "Conduct a basic literature review."],
                    strategy: "<strong>The Abstract Breakdown:</strong> Read 5 abstracts a week. Identify: 1. The Problem, 2. The Method, 3. The Result. This trains you to see the structure of research.",
                    connection: "Foundation for: Metode Penelitian (Sem 6) and Skripsi (Sem 7).",
                    resources: ["Creswell, J. W. (2012). *Educational Research: Planning, Conducting, and Evaluating Quantitative and Qualitative Research*.", "Nunan, D. (1992). *Research Methods in Language Learning*."]
                },

                // SEMESTER 5
                'SPBI4301': { // Morphology & Syntax
                    essence: "The Engineering of English. Deep structure analysis.",
                    description: "This course combines two levels of analysis. **Morphology** examines word formation processes (Affixation, Compounding, Blending) and types of morphemes (Free vs. Bound). **Syntax** introduces **Generative Grammar (Chomsky)**, focusing on Phrase Structure Rules and Tree Diagrams. You will analyze structural ambiguity (e.g., 'I saw the man with the telescope').",
                    competencies: ["Analyze words into constituent morphemes (derivational vs. inflectional).", "Draw syntactic tree diagrams for simple and complex sentences.", "Explain structural ambiguity."],
                    strategy: "<strong>Tree Diagrams:</strong> Visual structures are easier to remember than rules. Diagram sentences from your *Extensive Reading* books. Don't just analyze textbook examples; analyze real world text.",
                    connection: "Critical for: Explaining grammar rules to advanced students.",
                    resources: ["Radford, A. (2009). *An Introduction to English Sentence Structure*.", "Lieber, R. (2009). *Introducing Morphology*."]
                },
                'SPBI4311': { // Sociolinguistics
                    essence: "Language in Society. Why do we speak differently to our boss vs. our friends?",
                    description: "Examines the relationship between language and society. Key topics include **Varieties of Language** (Dialects, Registers, Styles), **Bilingualism/Multilingualism**, **Code-Switching** vs. **Code-Mixing**, and **Diglossia**. Relevant to the Indonesian context where local languages, Bahasa Indonesia, and English coexist.",
                    competencies: ["Define key sociolinguistic terms (dialect, register, idiolect).", "Analyze instances of code-switching in natural conversation.", "Discuss the relationship between language and power/gender."],
                    strategy: "<strong>Observation Journal:</strong> Listen to how people speak in the cafeteria vs. the classroom. Note the changes in vocabulary and tone. You are now a field linguist.",
                    connection: "Relevant for: Intercultural Communication (Sem 8).",
                    resources: ["Holmes, J. (2013). *An Introduction to Sociolinguistics*.", "Wardhaugh, R. (2006). *An Introduction to Sociolinguistics*."]
                },

                // SEMESTER 6
                'SPBI4401': { // Interactive Language Teaching
                    essence: "The Facilitator. Moving from 'Teaching' to 'Learning'.",
                    description: "This course focuses on creating communication in the classroom. It emphasizes **Task-Based Learning (TBLT)** and **Cooperative Learning** principles. You will learn to design activities that require 'Information Gap', 'Reasoning Gap', or 'Opinion Gap' to force genuine interaction.",
                    competencies: ["Design tasks that require genuine communication (Information Gap).", "Manage group dynamics and pair work effectively.", "Reduce TTT (Teacher Talking Time) and increase STT (Student Talking Time)."],
                    strategy: "<strong>Activity Audit:</strong> Look at a textbook activity. Ask: 'Is this interactive?' If not, how can I change it? (e.g., Turn a reading passage into a 'Jigsaw Reading' activity).",
                    connection: "Direct application for: PLP (Sem 6).",
                    resources: ["Brown, H. D. (2001). *Teaching by Principles*.", "Richards, J. C. (2006). *Communicative Language Teaching Today*."]
                },

                // SEMESTER 7
                'SPBI4402': { // Academic Writing
                    essence: "The Professional Scholar. Writing for the global community.",
                    description: "Advanced writing for research purposes. You will learn to write a full **Research Proposal** or **Article**. Focus areas include: **Hedging** (cautious language), **Paraphrasing** to avoid plagiarism, using **APA Citation Style**, and structuring a Literature Review.",
                    competencies: ["Use APA style correctly for in-text citations and references.", "Paraphrase academic sources to avoid plagiarism.", "Construct a Literature Review synthesis."],
                    strategy: "<strong>Reverse Outlining:</strong> Take a published journal article. In the margins, write the main point of each paragraph. See how the author constructed their argument. Copy that structure.",
                    connection: "Direct support for: Skripsi (Sem 7) and Artikel Ilmiah.",
                    resources: ["Swales, J. M., & Feak, C. B. (2012). *Academic Writing for Graduate Students*.", "Publication Manual of the American Psychological Association (7th Ed)."]
                },
                'SPBI4470': { // Skripsi
                    essence: "The Capstone. Your contribution to the field of knowledge.",
                    description: "The final research project. You will identify a problem in English Education, design a study, collect data, analyze it, and write a thesis. It demonstrates your ability to think scientifically and write academically.",
                    competencies: ["Conduct independent research.", "Analyze data using appropriate statistical or thematic methods.", "Defend research findings in an oral examination."],
                    strategy: "<strong>Zettelkasten:</strong> If you haven't started your note-taking system by now, start today. Do not wait for Sem 7. Every paper you read in Sem 4-6 is potential data for this.",
                    connection: "Culmination of entire degree.",
                    resources: ["Universitas Terbuka. *Panduan Penulisan Karya Ilmiah*."]
                },

                // SEMESTER 8
                'SPBI4405': { // Second Language Acquisition (SLA)
                    essence: "The Psychology of Learning. How does the brain actually learn a new language?",
                    description: "Examines theories of how L2 is acquired. Key concepts: **Krashen's Monitor Model** (Acquisition-Learning Hypothesis, Input Hypothesis i+1, Affective Filter), **Interlanguage** (Selinker), and **Vygotsky's ZPD**. It explains *why* students make errors and the role of corrective feedback.",
                    competencies: ["Explain the difference between Acquisition and Learning.", "Analyze learner errors using Interlanguage theory.", "Apply SLA theories to classroom teaching decisions."],
                    strategy: "<strong>Case Study:</strong> Pick a friend who is learning a language. Observe their mistakes. Don't correct them; analyze them. Are they 'developmental errors' or 'interference errors'?",
                    connection: "Explains the 'Why' behind Teaching Methods.",
                    resources: ["Lightbown, P., & Spada, N. (2013). *How Languages are Learned*.", "Ellis, R. (1997). *Second Language Acquisition*."]
                }
            };

            // Check if specific details exist
            if (detailsMap[course.code]) {
                return detailsMap[course.code];
            }

            // FALLBACK: Detailed Category Generators (Standardized)
            switch (course.cat) {
                case 'Skills':
                    return {
                        essence: "A gym for your brain. Proficiency and muscle memory.",
                        description: "These courses (Listening, Speaking, Reading, Writing) focus on the four language skills. The goal is proficiency (B2/C1 CEFR Level). Emphasis is on both **Accuracy** (grammar/vocab) and **Fluency** (speed/flow).",
                        competencies: ["Demonstrate increased proficiency (B1/B2/C1 level).", "Process input without mental translation.", "Produce output with reduced hesitation."],
                        strategy: "<strong>Immersion & Output:</strong> For Input, use the 'Input Hypothesis' (i+1). For Output, force yourself to use new vocabulary immediately. Use the 'Laboratory Mindset' tool.",
                        connection: "Builds the raw ability required for ESP and Teaching courses.",
                        resources: ["Richards, J. C. (2008). *Teaching Listening and Speaking*.", "Nation, I.S.P. (2009). *Teaching ESL/EFL Reading and Writing*."]
                    };
                case 'Linguistics':
                    return {
                        essence: "The abstract science behind the language.",
                        description: "Theoretical courses that analyze the systems of language. They provide the 'Content Knowledge' (CK) required for a teacher to explain rules and correct errors effectively.",
                        competencies: ["Analyze language data objectively.", "Identify patterns in language use.", "Explain complex linguistic rules simply."],
                        strategy: "<strong>Concept Mapping:</strong> Linguistics is hierarchical. Always map new terms to the bigger picture. Ask: 'How does this concept explain a mistake my future student might make?'",
                        connection: "Provides the theoretical answers to practical teaching problems.",
                        resources: ["Fromkin, V. et al. *An Introduction to Language*."]
                    };
                case 'Pedagogy':
                    return {
                        essence: "The art and science of teaching.",
                        description: "Professional courses focusing on 'Pedagogical Content Knowledge' (PCK). Topics include classroom management, lesson planning, assessment, and material development.",
                        competencies: ["Design effective learning materials.", "Assess student progress fairly.", "Manage classroom dynamics."],
                        strategy: "<strong>Lesson Plan Simulation:</strong> When learning a theory, immediately sketch a lesson plan using it. Theory without application is useless here.",
                        connection: "Directly applicable to your career as an educator.",
                        resources: ["Harmer, J. (2007). *The Practice of English Language Teaching*."]
                    };
                case 'Literature':
                    return {
                        essence: "Cultural and aesthetic appreciation.",
                        description: "Study of literary texts (prose, poetry, drama) to develop critical thinking and cultural awareness. Analysis focuses on literary elements (plot, character, theme) and stylistic devices.",
                        competencies: ["Analyze themes and symbols.", "Critique texts using literary theory.", "Discuss cultural context."],
                        strategy: "<strong>Critical Analysis:</strong> Don't just read the plot. Analyze the themes, the historical context, and the stylistic choices.",
                        connection: "Enhances vocabulary and cultural empathy.",
                        resources: ["Carter, R., & Long, M. N. (1991). *Teaching Literature*."]
                    };
                case 'Specialized': 
                    return {
                        essence: "Applied English for specific contexts.",
                        description: "ESP (English for Specific Purposes) and Translation courses. These focus on the specific needs of learners in professional fields (Business, Tourism) and the mechanics of transferring meaning between languages.",
                        competencies: ["Analyze specific genre conventions.", "Translate accurately between L1 and L2.", "Use domain-specific vocabulary."],
                        strategy: "<strong>Genre Analysis:</strong> Deconstruct texts from this specific field. What makes a 'Business Email' different from a 'Love Letter'?",
                        connection: "Expands your career horizon beyond general teaching.",
                        resources: ["Hutchinson, T., & Waters, A. (1987). *English for Specific Purposes*.", "Newmark, P. (1988). *A Textbook of Translation*."]
                    };
                default: // General
                    return {
                        essence: "Character building and foundations.",
                        description: "University-wide compulsory courses (MKWN) designed to build national character, ethics, and citizenship.",
                        competencies: ["Demonstrate national character.", "Apply ethical reasoning.", "Understand state philosophy."],
                        strategy: "<strong>Contextual Integration:</strong> Try to discuss these topics *in English*. Can you explain Pancasila in English?",
                        connection: "Required for graduation.",
                        resources: ["Modul MKWN Universitas Terbuka."]
                    };
            }
        }

        // --- NAVIGATION LOGIC ---
        function showDashboard() {
            document.getElementById('subpage-view').classList.remove('visible-page');
            document.getElementById('subpage-view').classList.add('hidden-page');
            document.getElementById('dashboard-view').classList.remove('hidden-page');
            document.getElementById('dashboard-view').classList.add('visible-page');
            window.scrollTo(0,0);
        }

        function scrollToSection(id) {
            const el = document.getElementById(id);
            if(el) el.scrollIntoView({ behavior: 'smooth' });
        }

        // --- RENDER LOGIC ---
        function openCourseModal(index) {
            const course = courses[index];
            const details = getCourseDetails(course);
            
            // Format competencies as list items
            let compList = "";
            if (details.competencies) {
                compList = `<ul class="list-disc list-inside text-stone-600 space-y-1 mt-2">${details.competencies.map(c => `<li>${c}</li>`).join('')}</ul>`;
            }

            // Format resources as list items (NEW)
            let resourceList = "";
            if (details.resources) {
                resourceList = `<ul class="list-disc list-inside text-stone-600 space-y-1 mt-2">${details.resources.map(r => `<li>${r}</li>`).join('')}</ul>`;
            }

            const content = `
                <div class="animate-fade-in-up max-w-5xl mx-auto">
                    <!-- Header -->
                    <div class="border-b border-stone-200 pb-6 mb-8">
                        <div class="flex items-center gap-3 mb-3">
                            <span class="px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs font-bold tracking-wide uppercase">${course.cat}</span>
                            <span class="px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-xs font-bold tracking-wide uppercase">${course.sks} SKS</span>
                        </div>
                        <h2 class="text-3xl md:text-5xl font-serif font-bold text-stone-900 mb-2">${course.name}</h2>
                        <div class="font-mono text-stone-500 text-lg">${course.code} &bull; Semester ${course.sem}</div>
                    </div>

                    <!-- Main Content Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                        
                        <!-- Column 1: Academic Context (The "Long Explanation") -->
                        <div class="lg:col-span-2 space-y-10">
                            
                            <!-- Essence -->
                            <div class="bg-stone-50 p-6 rounded-xl border border-stone-100 italic text-stone-700 font-serif text-lg leading-relaxed">
                                "${details.essence}"
                            </div>

                            <!-- Description -->
                            <div>
                                <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center gap-2">
                                    <span>üìñ</span> Academic Context
                                </h3>
                                <div class="prose text-stone-600 leading-relaxed text-justify">
                                    <p>${details.description}</p>
                                </div>
                            </div>

                            <!-- Competencies -->
                            <div>
                                <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center gap-2">
                                    <span>üéØ</span> Core Competencies
                                </h3>
                                <div class="bg-white border border-stone-200 p-6 rounded-xl shadow-sm">
                                    ${compList}
                                </div>
                            </div>

                            <!-- Resources (NEW) -->
                            <div class="bg-blue-50 border border-blue-100 p-6 rounded-xl shadow-sm">
                                <h3 class="text-xl font-bold text-blue-900 mb-4 flex items-center gap-2">
                                    <span>üìö</span> Key References & Theorists
                                </h3>
                                <div class="text-sm">
                                    ${resourceList}
                                </div>
                            </div>
                        </div>

                        <!-- Column 2: Strategy & Connections -->
                        <div class="space-y-8">
                            
                            <!-- Strategy Box -->
                            <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-xl shadow-sm">
                                <h3 class="text-lg font-bold text-amber-900 mb-3 flex items-center gap-2">
                                    <span>‚ö°</span> Strategic Blueprint
                                </h3>
                                <div class="text-stone-800 leading-relaxed text-sm">
                                    ${details.strategy}
                                </div>
                            </div>

                            <!-- Connection Box -->
                            <div class="bg-white border border-stone-200 p-6 rounded-xl">
                                <h3 class="text-lg font-bold text-stone-800 mb-3 flex items-center gap-2">
                                    <span>üîó</span> Connection Logic
                                </h3>
                                <div class="text-stone-600 text-sm">
                                    ${details.connection}
                                </div>
                            </div>

                            <!-- Quick Tips -->
                            <div>
                                <h4 class="font-bold text-stone-400 uppercase text-xs tracking-wider mb-3">Pro Tips</h4>
                                <ul class="list-disc list-inside text-sm text-stone-500 space-y-2">
                                    <li>Check syllabus in Week 1.</li>
                                    <li>Form a study group for this.</li>
                                    <li>Use the Scholar's Toolkit.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('subpage-content').innerHTML = content;
            
            // Switch views
            document.getElementById('dashboard-view').classList.add('hidden-page');
            document.getElementById('dashboard-view').classList.remove('visible-page');
            document.getElementById('subpage-view').classList.remove('hidden-page');
            document.getElementById('subpage-view').classList.add('visible-page');
            window.scrollTo(0,0);
        }

        // --- TOOLKIT MODAL ---
        const toolkitDetails = {
            'lab': {
                title: "The 'Laboratory' Mindset",
                icon: "üß™",
                subtitle: "For Skills (Speaking/Listening)",
                philosophy: "The classroom is too short. To master a language, you must treat your entire waking life as a laboratory. You are not a student; you are a scientist observing and experimenting with sound.",
                steps: [
                    "<strong>Narrate Your Life:</strong> As you walk, cook, or clean, whisper a running commentary in English. 'I am picking up the spoon. It feels cold.'",
                    "<strong>Shadowing:</strong> When listening to a podcast, repeat the words *instantly* (0.5 seconds behind the speaker). Copy their intonation, speed, and emotion. Do not just listen passively.",
                    "<strong>Device Language:</strong> Change your phone, laptop, and social media settings to English. Force your brain to navigate the digital world in L2."
                ],
                why: "This builds neural pathways for 'automaticity'. You stop translating in your head and start thinking in the language."
            },
            'feynman': {
                title: "The Feynman Technique",
                icon: "üß†",
                subtitle: "For Linguistics/Theory",
                philosophy: "Complexity is a mask for lack of understanding. If you cannot explain a concept (like 'Allomorph' or 'Schema Theory') in simple terms, you don't own it yet.",
                steps: [
                    "<strong>Pick a Concept:</strong> Write the name of the concept at the top of a blank sheet.",
                    "<strong>Teach a Child:</strong> Pretend you are teaching it to a 12-year-old. Use simple words. Avoid jargon. Use analogies (e.g., 'Grammar is like the traffic rules of language').",
                    "<strong>Identify Gaps:</strong> When you get stuck or use a big word to cover a gap, stop. Go back to the textbook.",
                    "<strong>Simplify & Refine:</strong> Rewrite your explanation until it is crystal clear."
                ],
                why: "This exposes 'illusions of competence'‚Äîwhere you recognize a word but don't actually understand the mechanics behind it."
            },
            'zettel': {
                title: "Zettelkasten Method",
                icon: "üóÉÔ∏è",
                subtitle: "For Research/Writing",
                philosophy: "Writing a thesis from a blank page is terrifying. Writing a thesis by assembling 500 small, pre-written notes is easy. Treat knowledge as a network, not a list.",
                steps: [
                    "<strong>Fleeting Notes:</strong> Capture quick thoughts during lectures. Don't worry about format.",
                    "<strong>Literature Notes:</strong> When reading a journal article, summarize it in your own words. Add the citation.",
                    "<strong>Permanent Notes (The Zettel):</strong> This is the key. Write one single idea on a card/digital note. It must be self-contained. Give it a title.",
                    "<strong>Link Them:</strong> Connect this new note to an old note. 'This idea about *Motivation* contradicts what I learned in *Psychology* last semester.' These links become your thesis."
                ],
                why: "It separates the thinking process from the writing process. By the time you need to write your Skripsi, you are just assembling blocks you already made."
            }
        };

        function openToolkitModal(toolKey) {
            const tool = toolkitDetails[toolKey];
            const stepsHtml = tool.steps.map(step => `<li class="mb-3 pl-2 border-l-2 border-amber-200">${step}</li>`).join('');
            const content = `
                <div class="animate-fade-in-up max-w-4xl mx-auto">
                    <div class="text-center mb-10">
                        <div class="text-6xl mb-4">${tool.icon}</div>
                        <h2 class="text-4xl font-serif font-bold text-stone-900 mb-2">${tool.title}</h2>
                        <div class="text-amber-700 font-medium">${tool.subtitle}</div>
                    </div>
                    <div class="space-y-8">
                        <div class="bg-stone-50 p-8 rounded-xl border border-stone-200">
                            <h3 class="text-xl font-bold text-stone-800 mb-4">Philosophy</h3>
                            <p class="text-lg text-stone-700 leading-relaxed font-serif italic">"${tool.philosophy}"</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="text-xl font-bold text-stone-800 mb-4">Step-by-Step Protocol</h3>
                                <ul class="text-stone-700 leading-relaxed">${stepsHtml}</ul>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-stone-800 mb-4">Cognitive Science ("Why it Works")</h3>
                                <div class="bg-blue-50 p-6 rounded-xl border border-blue-100 text-blue-900">${tool.why}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('subpage-content').innerHTML = content;
            document.getElementById('dashboard-view').classList.add('hidden-page');
            document.getElementById('dashboard-view').classList.remove('visible-page');
            document.getElementById('subpage-view').classList.remove('hidden-page');
            document.getElementById('subpage-view').classList.add('visible-page');
            window.scrollTo(0,0);
        }

        // --- PHASE LOGIC ---
        const phaseData = {
            p1: { title: "Phase 1: Foundation", goal: "Achieve high proficiency.", twist: "You are the subject and the scientist.", actions: [{title:"Grammar in Context", desc:"Diagram sentences."}, {title:"Input/Output Loop", desc:"Shadowing audio."}, {title:"Early Academic Identity", desc:"Commonplace Book."}], bg: "bg-emerald-50", border: "border-emerald-200" },
            p2: { title: "Phase 2: The Bridge", goal: "Know how to teach.", twist: "Synthesize Theory + Practice.", actions: [{title:"Linguistics-Pedagogy Link", desc:"Map concepts to teaching."}, {title:"Simulation Lab", desc:"Video analysis."}, {title:"ESP Analysis", desc:"Genre deconstruction."}], bg: "bg-amber-50", border: "border-amber-200" },
            p3: { title: "Phase 3: The Scholar", goal: "Create knowledge.", twist: "Production over consumption.", actions: [{title:"Research Synthesis", desc:"Find gaps in theses."}, {title:"Tech Innovation", desc:"Critique apps via SLA."}, {title:"Translation", desc:"Cultural mediation."}], bg: "bg-indigo-50", border: "border-indigo-200" }
        };

        function switchPhase(phaseId) {
            ['p1', 'p2', 'p3'].forEach(id => {
                const btn = document.getElementById(`tab-${id}`);
                btn.className = (id === phaseId) ? "active-tab pb-2 text-sm font-medium transition-colors focus:outline-none" : "inactive-tab pb-2 text-sm font-medium transition-colors focus:outline-none";
            });
            const data = phaseData[phaseId];
            const actionsHTML = data.actions.map(a => `<div class="bg-white p-4 rounded-lg border border-stone-100 shadow-sm"><h5 class="font-bold text-stone-800 mb-2">${a.title}</h5><p class="text-sm text-stone-600">${a.desc}</p></div>`).join('');
            document.getElementById('phase-content').innerHTML = `<div class="animate-fade-in-up"><div class="mb-6"><h4 class="text-xl font-bold text-stone-900">${data.title}</h4><p class="text-stone-600">${data.goal}</p><div class="mt-2 text-sm italic text-stone-500 border-l-2 border-stone-300 pl-3">${data.twist}</div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-4">${actionsHTML}</div></div>`;
        }

        // --- FILTER & CHART LOGIC ---
        function filterCourses() {
            const semVal = document.getElementById('semesterFilter').value;
            const catVal = document.getElementById('categoryFilter').value;
            const tbody = document.getElementById('courseTableBody');
            tbody.innerHTML = '';
            
            const filtered = courses.filter(c => (semVal === 'all' || c.sem == semVal) && (catVal === 'all' || c.cat === catVal));

            if (filtered.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="px-6 py-4 text-center text-stone-400">No courses match filters.</td></tr>';
                return;
            }

            filtered.forEach((c) => {
                const originalIndex = courses.indexOf(c);
                let badgeColor = "bg-stone-100 text-stone-600";
                if(c.cat === 'Pedagogy') badgeColor = "bg-amber-100 text-amber-800";
                if(c.cat === 'Linguistics') badgeColor = "bg-blue-50 text-blue-800";
                if(c.cat === 'Skills') badgeColor = "bg-emerald-50 text-emerald-800";

                const row = `
                    <tr onclick="openCourseModal(${originalIndex})" class="bg-white border-b hover:bg-stone-50 transition cursor-pointer group">
                        <td class="px-6 py-4 font-medium text-stone-500">${c.sem}</td>
                        <td class="px-6 py-4 text-xs font-mono text-stone-400 group-hover:text-amber-600">${c.code}</td>
                        <td class="px-6 py-4 font-semibold text-stone-800 group-hover:text-amber-700">${c.name}</td>
                        <td class="px-6 py-4">${c.sks}</td>
                        <td class="px-6 py-4"><span class="${badgeColor} px-2 py-1 rounded text-xs font-bold">${c.cat}</span></td>
                        <td class="px-6 py-4 text-stone-400 group-hover:text-amber-600">‚Üí</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function initCharts() {
            const catC = {}; const semC = {};
            courses.forEach(c => { catC[c.cat] = (catC[c.cat]||0)+c.sks; semC[c.sem] = (semC[c.sem]||0)+c.sks; });
            
            new Chart(document.getElementById('categoryChart'), {
                type: 'doughnut',
                data: { labels: Object.keys(catC), datasets: [{ data: Object.values(catC), backgroundColor: ['#e7e5e4', '#d6d3d1', '#f59e0b', '#78716c', '#a8a29e', '#fcd34d', '#b45309'], borderWidth: 0 }] },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right', labels: { boxWidth: 10 } } } }
            });

            new Chart(document.getElementById('semesterChart'), {
                type: 'bar',
                data: { labels: Object.keys(semC).map(k=>`Sem ${k}`), datasets: [{ data: Object.values(semC), backgroundColor: '#d6d3d1', hoverBackgroundColor: '#b45309', borderRadius: 4 }] },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { display: false }, x: { grid: { display: false } } }, plugins: { legend: { display: false } } }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            switchPhase('p1');
            initCharts();
            filterCourses();
        });
    </script>
</body>
</html>
